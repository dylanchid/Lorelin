{"id":"Lorelin-15h","title":"Implement real backend Bearer auth (no mock user)","description":"backend/app/core/auth.py currently returns a mock user even when Authorization header is missing and does not verify JWTs. Implement real Bearer token verification (or at minimum require token + validate signature/issuer) and require auth on /v1/vob/* routes. Remove unauthenticated access in production.","status":"open","priority":0,"issue_type":"bug","created_at":"2025-12-23T15:07:34.475555-08:00","updated_at":"2025-12-23T15:07:34.475555-08:00"}
{"id":"Lorelin-29h","title":"Implement state management for frontend (Zustand/Redux)","description":"src/App.tsx has props drilling through 25+ components. Implement lightweight state management (Zustand recommended for simplicity). Create stores for eligibility, disputes, visits, auth state. Refactor components to use hooks instead of prop chains. This will reduce re-renders and improve maintainability.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T15:18:01.313954-08:00","updated_at":"2025-12-23T15:18:01.313954-08:00","dependencies":[{"issue_id":"Lorelin-29h","depends_on_id":"Lorelin-zqe","type":"blocks","created_at":"2025-12-23T15:19:13.269961-08:00","created_by":"dylanchidambaram"}]}
{"id":"Lorelin-2eo","title":"Implement PII sanitization in logs + monitoring","description":"Multiple locations log request/response data that may contain PII (patient names, SSN, DOB). Implement log scrubbing middleware to redact sensitive fields. Add monitoring/alerting for error patterns. Ensure compliance with HIPAA logging requirements.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-23T15:17:50.298826-08:00","updated_at":"2025-12-23T15:17:50.298826-08:00","dependencies":[{"issue_id":"Lorelin-2eo","depends_on_id":"Lorelin-gr7","type":"blocks","created_at":"2025-12-23T15:19:02.347451-08:00","created_by":"dylanchidambaram"}]}
{"id":"Lorelin-3so","title":"Stop leaking exception details in API responses","description":"backend/app/main.py global_exception_handler returns detail=str(exc) and backend/app/api/vob.py wraps exceptions into HTTPException(detail=str(e)). Remove internal error details from client responses; log server-side with request_id. Ensure 500 errors return a generic message.","status":"open","priority":0,"issue_type":"bug","created_at":"2025-12-23T15:07:52.389079-08:00","updated_at":"2025-12-23T15:07:52.389079-08:00"}
{"id":"Lorelin-4q4","title":"Complete Dockerfile + docker-compose for production","description":"backend/Dockerfile is incomplete (3 lines). Create multi-stage build (deps + runtime), add health check, set non-root user, optimize layer caching. Complete docker-compose.yml for local dev + testing (backend, postgres, redis). Add docker-compose.prod.yml template. Document deployment steps.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T15:17:33.848871-08:00","updated_at":"2025-12-23T15:17:33.848871-08:00","dependencies":[{"issue_id":"Lorelin-4q4","depends_on_id":"Lorelin-62p","type":"blocks","created_at":"2025-12-23T15:18:56.886203-08:00","created_by":"dylanchidambaram"}]}
{"id":"Lorelin-52y","title":"Add pytest configuration + coverage thresholds","description":"pytest.ini lacks proper configuration. Add testpaths, asyncio_mode, markers, coverage config. Set minimum coverage threshold (70%+ for backend). Add pytest plugins (pytest-cov, pytest-asyncio, pytest-timeout, pytest-mock). Configure test database setup/teardown. Document test running in README.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T15:17:44.806459-08:00","updated_at":"2025-12-23T15:17:44.806459-08:00","dependencies":[{"issue_id":"Lorelin-52y","depends_on_id":"Lorelin-xik","type":"blocks","created_at":"2025-12-23T15:18:51.341963-08:00","created_by":"dylanchidambaram"}]}
{"id":"Lorelin-62p","title":"Pin backend deps + align Docker Python version + add CI","description":"backend/requirements.txt is unpinned and backend/Dockerfile uses python:3.9-slim while docs target 3.11+. Pin versions, align Docker base image, and add a minimal CI pipeline (lint/typecheck/tests) once env is reproducible.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T15:09:36.770145-08:00","updated_at":"2025-12-23T15:09:36.770145-08:00","dependencies":[{"issue_id":"Lorelin-62p","depends_on_id":"Lorelin-xik","type":"blocks","created_at":"2025-12-23T15:10:15.182878-08:00","created_by":"dylanchidambaram"}]}
{"id":"Lorelin-63m","title":"Align caching with PRD (key hashing + TTL) and remove duplicate cache","description":"Current cache exists in backend/app/core/cache.py (async Redis, 1h TTL) and backend/app/services/cache.py (sync Redis, patient_id int key, 24h TTL). PRD calls for SHA256 of patient_hash+payer_id+date_of_service+procedure_code with 6h TTL and force_refresh/invalidate support. Unify to one cache module and update router/orchestrator to use it.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T15:09:00.894931-08:00","updated_at":"2025-12-23T15:09:00.894931-08:00","dependencies":[{"issue_id":"Lorelin-63m","depends_on_id":"Lorelin-cnb","type":"blocks","created_at":"2025-12-23T15:10:09.892616-08:00","created_by":"dylanchidambaram"}]}
{"id":"Lorelin-78k","title":"Create deployment guide + runbook","description":"No deployment documentation exists. Create DEPLOYMENT.md with: environment setup (dev/staging/prod), secrets management, database migrations, Docker deployment, health check monitoring, rollback procedures, troubleshooting common issues. Add checklist for pre-deployment verification.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-23T15:18:06.8358-08:00","updated_at":"2025-12-23T15:18:06.8358-08:00","dependencies":[{"issue_id":"Lorelin-78k","depends_on_id":"Lorelin-4q4","type":"blocks","created_at":"2025-12-23T15:19:18.762929-08:00","created_by":"dylanchidambaram"}]}
{"id":"Lorelin-97c","title":"Implement database migration testing + seed data","description":"Alembic is configured but migrations are not tested. Add migration tests (up/down), create seed data for local dev (sample payers, visits, disputes). Add migration rollback testing. Document migration workflow in CONTRIBUTING.md.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-23T15:17:39.317316-08:00","updated_at":"2025-12-23T15:17:39.317316-08:00"}
{"id":"Lorelin-aj6","title":"Extract duplicate VoBResult construction in llm_parser.py","description":"backend/app/core/llm_parser.py lines 125-152 and 157-181 contain identical VoBResult construction logic (60+ lines duplicated). Extract to a _build_vob_result(data, confidence=1.0) helper method. This will improve maintainability and reduce bug surface.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T15:16:49.714399-08:00","updated_at":"2025-12-23T15:16:49.714399-08:00"}
{"id":"Lorelin-cnb","title":"Unify sync/async connector routing (single source of truth)","description":"check_sync uses VoBRouter (backend/app/core/router.py) while async jobs use VoBOrchestrator (backend/app/connectors/orchestrator.py). Pick one routing layer and use it for both endpoints so caching, connector selection, and fallback behavior are consistent. Update tests/docs accordingly.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-23T15:08:08.94616-08:00","updated_at":"2025-12-23T15:08:08.94616-08:00"}
{"id":"Lorelin-cy9","title":"Implement request/response validation at API boundaries","description":"Ensure all FastAPI endpoints use Pydantic models for validation. Add input sanitization for user-provided fields (payer names, patient data). Implement request size limits. Validate enum values (JobStatus, CoverageStatus) before database writes. Add response model validation to prevent leaking unexpected fields.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T15:17:22.89552-08:00","updated_at":"2025-12-23T15:17:22.89552-08:00"}
{"id":"Lorelin-flw","title":"Lock down Supabase Edge Function service-role access","status":"open","priority":0,"issue_type":"bug","created_at":"2025-12-23T15:07:16.938967-08:00","updated_at":"2025-12-23T15:07:16.938967-08:00"}
{"id":"Lorelin-fu6","title":"Remove hardcoded Supabase anon key from frontend","description":"src/utils/supabase/info.tsx contains a hardcoded public anon key. Even if 'public', it should be provided via environment/config for deployments and to avoid accidental coupling to one Supabase project. Refactor to read from Vite env vars and document setup.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T15:09:54.219162-08:00","updated_at":"2025-12-23T15:09:54.219162-08:00"}
{"id":"Lorelin-gr7","title":"Replace print() with structured logging framework","description":"Multiple files use print() instead of proper logging (cache.py, orchestrator.py, llm_parser.py). Implement centralized logging config with structlog/python-json-logger, add request_id propagation, configure log levels, and replace all print() calls. This enables proper monitoring and debugging in production.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T15:17:00.853688-08:00","updated_at":"2025-12-23T15:17:00.853688-08:00","dependencies":[{"issue_id":"Lorelin-gr7","depends_on_id":"Lorelin-3so","type":"blocks","created_at":"2025-12-23T15:18:34.947767-08:00","created_by":"dylanchidambaram"}]}
{"id":"Lorelin-itz","title":"Fix async session management in background tasks","description":"backend/app/api/v1/endpoints/async_vob.py process_job() uses dependency-injected session that may be closed when BackgroundTasks runs. Create fresh async session within background task instead. Also ensure proper async/await throughout the job processing pipeline.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-23T15:16:55.291021-08:00","updated_at":"2025-12-23T15:16:55.291021-08:00","dependencies":[{"issue_id":"Lorelin-itz","depends_on_id":"Lorelin-cnb","type":"blocks","created_at":"2025-12-23T15:18:29.49683-08:00","created_by":"dylanchidambaram"}]}
{"id":"Lorelin-n34","title":"Create Architecture Decision Records (ADRs)","description":"Document key architectural decisions: Why Stedi + RPA hybrid? Why SQLModel vs SQLAlchemy+Pydantic? Why Redis for caching? Why FastAPI async patterns? Create docs/adr/ directory with numbered ADRs using standard template. This helps onboarding and prevents decision re-litigation.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-23T15:17:55.846384-08:00","updated_at":"2025-12-23T15:17:55.846384-08:00"}
{"id":"Lorelin-n4j","title":"Implement custom exception hierarchy + retry logic","description":"Create domain-specific exceptions (VoBException, PayerNotSupportedException, ConnectorTimeoutException, LLMParsingException) to replace generic Exception catching. Add retry decorator with exponential backoff for transient failures (network, rate limits). Implement circuit breaker for external APIs (Stedi, LLM providers, Browserbase).","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T15:17:06.419765-08:00","updated_at":"2025-12-23T15:17:06.419765-08:00","dependencies":[{"issue_id":"Lorelin-n4j","depends_on_id":"Lorelin-3so","type":"blocks","created_at":"2025-12-23T15:18:40.396298-08:00","created_by":"dylanchidambaram"}]}
{"id":"Lorelin-n6j","title":"Generate OpenAPI/Swagger documentation","description":"Backend uses FastAPI but OpenAPI docs are not configured/documented. Add proper endpoint descriptions, request/response schemas, authentication requirements, and examples. Configure Swagger UI at /docs and ReDoc at /redoc. Document all /v1/vob/* endpoints.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-23T15:17:17.412821-08:00","updated_at":"2025-12-23T15:17:17.412821-08:00"}
{"id":"Lorelin-r27","title":"Fix RPA connector request field usage + Browserbase init","description":"backend/app/connectors/rpa.py calls PortalFactory.get_strategy(request.payer_id, ...) but VoBRequest has payer.{name,payer_code_hint}; fix to use payer_code_hint/name. Also verify Browserbase client initialization uses both api_key and project_id as required, and ensure localhost fallback logic is correct.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-23T15:08:41.147629-08:00","updated_at":"2025-12-23T15:08:41.147629-08:00"}
{"id":"Lorelin-u8y","title":"Fix /health endpoint (missing connector health_check)","description":"backend/app/api/health.py awaits StediConnector.health_check() but StediConnector does not implement it. Implement connector health_check methods or adjust endpoint to perform lightweight checks safely (no external calls if possible).","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-23T15:08:23.933677-08:00","updated_at":"2025-12-23T15:08:23.933677-08:00"}
{"id":"Lorelin-x8a","title":"Add security headers + CORS policy + rate limiting","description":"Implement CORS middleware with explicit allowed origins (no wildcards in prod). Add security headers (Content-Security-Policy, X-Frame-Options, X-Content-Type-Options). Implement rate limiting with slowapi or fastapi-limiter (per-IP and per-user). Add request size limits. Document in deployment guide.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-23T15:17:28.375975-08:00","updated_at":"2025-12-23T15:17:28.375975-08:00","dependencies":[{"issue_id":"Lorelin-x8a","depends_on_id":"Lorelin-15h","type":"blocks","created_at":"2025-12-23T15:19:07.822585-08:00","created_by":"dylanchidambaram"}]}
{"id":"Lorelin-xik","title":"Make Python env reproducible; stop committing venvs","description":"Repo contains committed virtualenvs (e.g., backend/venv_stable) that are non-portable due to hardcoded interpreter paths; tests cannot run reliably. Update .gitignore to exclude all venvs, remove them from repo, and add clear setup instructions (python version, venv, pip install -r backend/requirements.txt).","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T15:09:19.233647-08:00","updated_at":"2025-12-23T15:09:19.233647-08:00"}
{"id":"Lorelin-zqe","title":"Add comprehensive frontend testing (React Testing Library + E2E)","description":"Frontend has zero tests. Set up Vitest + React Testing Library for component tests, add tests for critical user flows (eligibility check, disputes, visit tracking). Implement basic E2E tests with Playwright for auth + happy path. Target 60%+ coverage for MVP.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-23T15:17:11.935122-08:00","updated_at":"2025-12-23T15:17:11.935122-08:00","dependencies":[{"issue_id":"Lorelin-zqe","depends_on_id":"Lorelin-xik","type":"blocks","created_at":"2025-12-23T15:18:45.87601-08:00","created_by":"dylanchidambaram"}]}
